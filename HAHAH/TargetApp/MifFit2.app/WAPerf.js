!function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){function o(e){return e&&e.__esModule?e:{default:e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(1),i=o(a),u=n(3),f=o(u),c=n(4),p=o(c),d=n(5),l=o(d),s=n(6),v=o(s),y=n(7),_=o(y),m=n(8),g=(o(m),n(2));try{if("object"===("undefined"==typeof Perf?"undefined":r(Perf))){for(var w in i.default)!function(e){Perf.__defineGetter__(e,function(){return i.default[e]})}(w)}"object"===("undefined"==typeof Reporter?"undefined":r(Reporter))&&(0,g.hookObject)(Reporter,f.default),(0,g.isAppService)()&&"object"===("undefined"==typeof wx?"undefined":r(wx))&&("object"===("undefined"==typeof wx?"undefined":r(wx))&&(0,_.default)(),"function"==typeof App&&(0,l.default)(),"function"==typeof Page&&(0,v.default)()),(0,g.onBridgeReady)(function(){(0,g.hookObject)(WeixinJSBridge,p.default)})}catch(e){"object"===("undefined"==typeof Reporter?"undefined":r(Reporter))&&Reporter.errorReport({key:"appServiceSDKScriptError",error:e,extend:"Perf"}),console.error("Perf error: "+e.message)}},function(e,t,n){var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(2),a={},i={updateData:function(e,t){wx.updatePerfData({dataArray:[{key:e,value:t}]})},updateDataGroup:function(e){wx.updatePerfData({dataArray:e})},traceCompleteEvent:function(e,t,n,o,r){wx.traceEvent({events:[{category:e,name:t,start:n,end:o,phase:"X",args:JSON.stringify(r)}]})},traceBeginEvent:function(e,t,n){var o=(0,r.guid)(),i={category:e,name:t,start:Date.now(),phase:"B",args:JSON.stringify(n)};return a[o]=i,wx.traceEvent({events:[i]}),o},traceEndEvent:function(e,t){var n=a[e];if(null==n)return void console.error("[Perf] Call traceBeginEvent() before traceEndEvent().");n.args=null!=t?JSON.stringify(t):n.args,n.end=Date.now(),n.phase="E",wx.traceEvent({events:[n]}),delete a.id}},u=function(){return"undefined"!=typeof wx&&"function"==typeof wx.updatePerfData&&"function"==typeof wx.traceEvent};!function(){for(var e in i){var t=function(e){var t=i[e];if("function"!=typeof t)return{v:void 0};i[e]=function(){if(u())return t.apply(this,arguments);console.error("[Perf] wx.traceEvent or wx.updatePerfData doesn't exist.")}}(e);if("object"===(void 0===t?"undefined":o(t)))return t.v}}(),e.exports=i},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.onBridgeReady=function(e){"undefined"!=typeof WeixinJSBridge?e():document.addEventListener("WeixinJSBridgeReady",e,!1)},t.isAppService=function(){return"function"==typeof App&&"function"==typeof Page},t.hookObject=function(e,t){try{for(var n in t)!function(n){e["__"+n+"__"]=e[n],e.__defineGetter__(n,function(){return function(){var o=void 0;try{var r=e["__"+n+"__"],a=t[n].before,i=t[n].after;"function"==typeof a&&a.apply(this,arguments),o=r.apply(this,arguments),"function"==typeof i&&i.apply(this,arguments)}catch(e){console.error("Perf error: "+e.message)}return o}}),e.__defineSetter__(n,function(t){e["__"+n+"__"]=t})}(n)}catch(e){console.error("Perf error: "+e.message)}},t.isDevelopVersion=function(){var e="";return"undefined"!=typeof wx&&(e=wx.version&&wx.version.version||""),"develop"===e},t.humanizeDataSize=function(e){return"number"!=typeof e?"0 B":e>=1024?(e/1024).toFixed(2)+" KB":e+" B"},t.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+e()},t.noop=function(){},t.getRealRoute=function(e){return e.replace(/\.html$/,"")}},function(e,t,n){var o=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(2),i=["pageframe","WAWebview"],u=null,f=function(e,t,n){null==u?wx.getCurrentRoute({success:function(o){var i=o.route;u=(0,a.getRealRoute)(i),r.default.traceCompleteEvent(u,e,t,n)}}):r.default.traceCompleteEvent(u,e,t,n)},c={speedReport:{after:function(e){var t=e.key,n=e.timeMark;if("firstRenderTime"===t||"reRenderTime"===t){if(!n.startTime||!n.endTime)return;var o=n.endTime-n.startTime;r.default.updateData(t,o+" ms"),f(t.replace("Time",""),n.startTime,n.endTime)}i.includes(t)&&r.default.traceCompleteEvent("Native",t,n.startTime,n.endTime)}}};e.exports=c},function(e,t,n){var o=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(2),i={subscribeHandler:{after:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.data,o=t.options,i=(arguments[2],arguments[3]),u=Date.now(),f=o&&o.timestamp||0,c=i&&i.nativeTime||0;if(0!==f&&0!==c){var p=JSON.stringify(n||{}).length,d=u-f,l=c-f,s=(0,a.isAppService)()?"webview2AppService":"appService2Webview";(0,a.isDevelopVersion)()&&r.default.updateDataGroup([{key:s+"TotalTime",value:d+" ms"},{key:s+"DataSize",value:(0,a.humanizeDataSize)(p)},{key:s+"NativeTime",value:l+" ms"}])}}}};e.exports=i},function(e,t,n){var o=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(2),i=["onLaunch","onShow","onHide","onUnlaunch"],u=function(e){i.forEach(function(t){var n=e[t]||a.noop;e[t]=function(){var e=Date.now(),o=n.apply(this,arguments);return r.default.traceCompleteEvent("App","App."+t,e,Date.now()),o}})},f=function(){var e=App;App=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(t),e(t)}};e.exports=f},function(e,t,n){var o=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(2),i=["onLoad","onReady","onShow","onRouteEnd","onHide","onUnload"],u={setData:{before:function(e){var t=0;try{t=JSON.stringify(e||{}).length}catch(e){}this.__last_trace_id__=r.default.traceBeginEvent(this.__route__,"Page.setData",{dataSize:t})},after:function(){r.default.traceEndEvent(this.__last_trace_id__),delete this.__last_trace_id__}}},f=function(e){i.forEach(function(t){var n=e[t]||a.noop;e[t]=function(){"onLoad"!==t||this.__isHook__||(this.__isHook__=!0,(0,a.hookObject)(this,u));var e=Date.now(),o=n.apply(this,arguments);return r.default.traceCompleteEvent(this.__route__,"Page."+t,e,Date.now()),o}})},c=function(e){for(var t in e){(function(t){var n=e[t];if(i.includes(t)||"function"!=typeof n)return"continue";e[t]=function(){var e=Date.now(),o=n.apply(this,arguments);return r.default.traceCompleteEvent(this.__route__,"Page."+t,e,Date.now()),o}})(t)}},p=function(){var e=Page;Page=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(t),c(t),e(t)}};e.exports=p},function(e,t,n){function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(1),i=function(e){return e&&e.__esModule?e:{default:e}}(a),u=["updatePerfData","traceEvent"],f=function(e,t,n){var o=Date.now(),r=n.complete;return t(Object.assign(n,{complete:function(t){"function"==typeof r&&r.apply(r,arguments),i.default.traceCompleteEvent("API","wx."+e,o,Date.now(),{args:n,res:t})}}))},c=function(e,t,n){var o=Date.now();return t(function(t){"function"==typeof n&&n.apply(n,arguments),i.default.traceCompleteEvent("API","wx."+e,o,Date.now(),{})})},p=function(e,t,n){var r=Date.now(),a=t.apply(void 0,o(n));return i.default.traceCompleteEvent("API","wx."+e,r,Date.now(),{ret:a}),a},d=function(e,t){function n(n){return"object"===(void 0===n?"undefined":r(n))?f(e,t,n):"function"==typeof n?c(e,t,n):p(e,t,arguments)}wx.__defineGetter__(e,function(){return n})},l=function(){for(var e in wx)if(!u.includes(e)){var t=wx[e];"function"==typeof t&&d(e,t)}};e.exports=l},function(e,t,n){var o=n(1),r=function(e){return e&&e.__esModule?e:{default:e}}(o),a=n(2),i=function(){var e=0,t="";wx.onAppRoute(function(n){e=Date.now(),t=(0,a.getRealRoute)(n.path)}),wx.onAppRouteDone(function(n){t===(0,a.getRealRoute)(n.path)&&r.default.traceCompleteEvent(t,"Page.onRoute",e,Date.now())})};e.exports=i}]);